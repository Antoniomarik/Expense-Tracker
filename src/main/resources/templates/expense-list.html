<!DOCTYPE html>
<html lang="en" xmlns:th="https://thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Expense Manager - Expenses</title>

</head>
<link rel="stylesheet" th:href="@{/css/jquery-ui.css}" />
<body>
  <h1>List of Expenses</h1>
    <hr/>
  <form method="get" th:object="${filter}" th:action="@{/filterExpenses}">
      Search by keyword:
      <input type="text" plackeholder="keyword" th:field="*{keyword}"/>
      <input type="submit" value="Submit">
      <select th:field="*{sortBy}">
          <option value="date">Date</option>
          <option value="amount">Amount</option>
      </select>

      <input type="text" id="startdate" placeholder="Enter Start date" th:field="*{startDate}"/>
      <input type="text" id="enddate" placeholder="Enter End date" th:field="*{endDate}"/>
      <input type="submit" value="Submit" />
  </form>

  <div>
      <a th:href="@{/createExpense}">Create new expense</a>
  </div>
    <table border="solid">
        <thead>
        <th>Name:</th>
        <th>Descirption</th>
        <th>Amount</th>
        <th>Date</th>
        <th>Actions</th>
        </thead>
        <tbody>
        <tr th:each="tempexpenses: ${expenses}">
            <td th:text="${tempexpenses.name}"></td>
            <td th:text="${tempexpenses.description}"></td>
            <td th:text="${tempexpenses.amount}"></td>
            <td th:text="${tempexpenses.dateString}"></td>
            <td>
                <a th:href="@{/deleteExpense(id=${tempexpenses.expenseId})}" onclick="return confirm('Confirm deleting expense')">Delete</a>
                <a th:href="@{/updateExpense(id=${tempexpenses.expenseId})}">Update</a>

            </td>
        </tr>
        </tbody>
    </table>

  <script th:src="@{/js/jquery.js}"></script>
  <script th:src="@{/js/jquery-ui.js}"></script>
  <script th:src="@{/js/expense-form.js}"></script>
  <script th:src="@{/js/expense-list.js}"></script>
</body>
</html>